# 1Script Server Pages

Здесь будет ~~город заложён~~ MVC фреймворк для разработки веб-сайтов с использованием 1Script.

* На базе ASP.NET.MVC
* Серверная логика будет описываться на языке 1С.
* Тем не менее, цель проекта - серьезный веб-движок продуктового уровня для 1С-ников.

## Проверочный запуск разработчиком

* откройте проект `sln` в VisualStudio/Rider 
* выполните команду `publish` (сборка и публикация проекта)
* в корне репозитория выполните `docker-compose build`
* для проверки сценариев
  * `Фоновые задания` - выполните команду `docker-compose up background-example` - открывается по адресу http://localhost:5001
  * `Аутентификация внешняя` - выполните команду `docker-compose up auth0-example` - открывается по адресу http://localhost:5002 (для корректной работы требуется создание файла `.env` по примеру файла `.env_example`)


## Масштабирование и отказойстойчивость

* в файле `docker-scale-compose.yml` содержится пример создания откзоустойчивого сервиса на базе oscript.web
* для запуска выполните следующие команды
  * `docker-compose build`
  * `docker stack deploy --compose-file=./docker-scale-compose.yml oscriptscaler`
  * перейдите по адресу http://localhost:80/ - вы увидете работающие приложение
  * однако если ввести команду `docker ps` вы увидите запущенный балансировщик и 3 отдельных контейнера для обработки запрсов пользователя
